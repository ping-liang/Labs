using System;
using System.Collections.Generic;
using System.Linq;
using System.Net;
using System.Net.Http;
using System.Web.Http;
using LegacyModels.Queue;
using Newtonsoft.Json;
using Newtonsoft.Json.Linq;

namespace DummyQueueApis.Controllers
{
    public class MessageController : ApiController
    {
        [HttpGet]
        public Request GetUsers()
        {
           var  queueRequest = new Request();


           // hs.king.echalk.net user
           //string userIdList = "67D8F1BE-EE05-4D1C-9862-54AC59AA6126,F5C79251-9549-4FC5-AA97-BDACD41FF3E8";
         //  string userIdList =  "C58FF911-5FCF-4817-B907-DC61D308CEF0,255D85C1-C616-4E5A-8E97-D4C69A050EBE,80ED76FF-6DD8-45EF-86D0-DB5714F5E4EE,E1E11583-15E1-4A71-8E0A-80CF0F892FBD,A83B51CB-3C78-42AB-AB38-90E9CEC48C60,ACDD6209-C26C-4DC5-80F3-64C1A9DE8200,FCFADCDB-41D4-45AD-9A34-EF912B4885F4,F5C79251-9549-4FC5-AA97-BDACD41FF3E8,5486FDD2-2AA3-4B96-8BB8-436626737277,511664CD-EFDF-417E-B949-6EBA2945D42C,2C7C1B9E-C91F-4740-A3A0-B4B722A918B3,F6A5F4C4-3020-4939-A472-1E1EB7246CA8,40302495-8370-4368-B981-CBD0F4A65F25,C4C01F29-57BC-4ED4-80A7-334ED5664DFD,67D8F1BE-EE05-4D1C-9862-54AC59AA6126,137ACA35-A610-46D5-8802-29F624C5F230,C5201363-1DD0-4C97-803B-00C158BAF395,DDA12BB2-817D-4D3E-9356-02530A667525,4F5E6C4A-D51D-4EF0-B4C7-DF47D264CD0A,C8222DA7-55FC-44A8-BEDF-B1D434E548E5,56EEB760-3F42-4B31-838A-5A725A32BE93,03DC7B78-B695-4BFD-A6A0-AE567066CDBD,2B2DAF78-9037-4D10-80F0-9BC25F0491C4,FD104917-608D-4E14-A025-EC7E75FCB35B,FD257295-EA9B-442F-8D16-845F69E380E1,4F40FE4C-1167-488B-9730-B1101B3B47D2,B229F06C-E066-4545-8965-8F301D25A19F,25CA62F1-D62C-4CC1-9BA7-4053471ECDDB,4F27E3FE-90B7-4505-B7BC-32C438F89C2C,E976D1F1-9990-40E0-BE04-804D54E69853,95379D17-0746-43B7-A134-221999546DD1,B587ED49-7DC2-4CDA-9FDC-73D4032844E7,3E10CD91-E1AA-4DFB-B855-02F51FFBFE9E,7B902534-E5B1-4001-A0DE-494C8FDC5C58,CC1890C1-AC78-48A3-82F6-3025C67F3C85,7C168E97-34EF-48F2-A311-FC0E11BB059C,DF4334DF-588D-4528-A022-2E1D532F0C26,D8D1E195-DFF2-4566-9847-6FE279C4D2FD,BB5C6C3D-2FA2-4638-809F-3BC3A4CA3121,D97B979A-5C8C-4D4F-8821-87A3A4D64BF7,719907AA-4A8E-468C-AF71-FBE4AB605B4D,9F1569A5-0603-4987-89C5-6507B8AFD205,7502DB42-7DA9-4DC9-BF55-7B0659E78DE9,B4F82EA7-F6EB-4660-82C4-A117180CAD56,95860F4A-ED00-4675-BC5F-B35563220646,4379AB65-C852-49F3-9034-8CF95E8E0A97,10C6A234-BB08-4421-A415-5EEAFA3CCC67,72D4FA4F-AB4B-4B8A-8008-D73BE2962518,0166688C-DAF3-4625-9C26-A63C72D6E3F2,1580E5DE-D0F7-4AF9-867E-47ABA49D4B75,687DA914-76D6-4053-B815-8921DC70DA6D";
         //  string userIdList = "C58FF911-5FCF-4817-B907-DC61D308CEF0";
          //      queueRequest.LegacySiteId = "C28C5E6F-94B9-44FC-9C59-963A1C3CED39";


            //king.echalk.net users 
           //string userIdList = "E74AAA80-B9E8-4AAC-A90D-E476577AC5AF";
         //  string userIdList =
        //       "9B04B9FB-E2F3-4EE6-BA8F-7CD3F72FF2C5,09C09920-AB0B-44A8-B968-05A24A8F2FE2,9C3EB8CB-0520-486D-B74E-43DDF8C1B797,11492592-E125-438B-9A10-0C93765B59A9,CF31FE63-BE18-4F2C-8CC6-16C3643621E7,FB7C14D9-8D98-459E-AC49-341021C974F9,34405C1A-BA60-4C04-AD96-5AA8CBEA2E91,B8D92692-EB6F-45D3-AEE6-DF50D827A2CD,4C255250-58FB-4300-8FE1-BA99D5E95DEB,57C3A48F-4BAF-4D86-B5F5-EC7E4C8614C4,AA3F3316-F8A3-428A-884F-8309E9BD7142,8363EA19-285D-410B-9B47-F9A1BDE3EDCF,A3B02F66-970A-4894-8DD5-33A3CAB0C24E,85CDDEDF-1193-4F16-AD9A-4A5A437EAF75,41CF8FA0-720A-4332-805E-DBDD6BAE4311,765DB12B-E974-4686-BF9F-F6AF03521FB3,6E15B402-3AD3-4C22-8906-1C5B8CB62E93,42CADFAD-BDAE-4EA2-B514-6E21B13CBEE9,533FDFA3-F9D8-4EAF-90C0-F4FC2C12CE0A,C528C02D-A9C9-4990-AF2A-CACDBBC34589,8D11F38A-8F06-4270-B2BF-05FAD5BF1C0C,C5B2204E-3F91-4B75-B2EA-030510ECED9C,9A32DA55-F9F9-473F-BAFA-B81A197310CD,EA40DBAB-22F5-4165-8A8B-35B3B86515F7,9D8F9410-E364-40E0-8FFF-31AC4D7A08A9,7E2AA2DF-8A9E-4EF3-8D5A-3229A7104455,CACD9D3B-F8BF-4893-8FB4-DC9360A5435E,2259806E-5DFF-4A2E-9DF8-549EB6238AAA,370A2D2A-ADE3-4E28-BD26-B0666106B74D,EFED216E-D3D5-4D71-8968-827DAD0FDCFA,9EA47B5A-A4A5-434B-8905-84FE61731895,9F37696F-74B2-4CA0-8E68-A51B7FE87E97,F0ED0140-BD7E-41E4-A3D6-535C4B1A4223,9C8F44A5-DFB1-4FAF-B567-FD40EA94D55F,35D1AE79-7E69-48EE-BCCE-AD7B445AA050,709F064D-8F8F-49BE-A87A-E5499506FD50,E5650ADB-E97C-4B5C-8985-FE0D3BDA0C08,37400EB1-E84E-42E7-8B70-FB12E7474E23,D8881B05-1E9C-4529-8F17-CE47EFC3A61C,42548934-F158-4EE8-B80B-E59D648FCD85,BB2C1C6E-B325-481A-B1B7-D0C8806CC7DD,E74AAA80-B9E8-4AAC-A90D-E476577AC5AF,B5C364BC-C292-4A4E-A048-A2067ED9E948,9577DEE0-704D-4CC5-AF52-06A9DDEE3052,928D9AE2-5AFF-47F8-B21E-C0BC8EBF9901,2DFA6BAB-1E8F-4772-87CB-7AB8DDCED9F6,945A3F2B-3E1E-4BFF-884A-D5DC2ECA5EF8,9CF2594C-3065-4FC2-8FAE-F18E643F904C,E3713E39-4C93-4E0B-8BA3-B6EAFEB24AAD,3493F61E-3DCC-4FE8-B3B2-306DBDD40E64,F3AB81E2-C7A2-4215-A4FC-777C68676D6C,1202CD51-12C1-4354-A3D1-5BDCD5F429F5,46055750-8975-4870-A32C-46BB5EC37577,97314F4F-6E11-4DD6-9A46-09AEA33E1313,4921779C-6321-4585-9409-952CD1133D7B,138BA3D5-BCCC-4341-9CC8-8DDA88BF0FA7,F014F41B-D26E-44C5-B7CD-C5C5B4548089,6729CC7C-B2AA-4D90-8186-4891B2CD46CF,57D0E30A-3E58-4BA9-9EA2-6097C9C2C82E,B702A9D6-C5D9-4359-864F-8191E637E3B5,9A9585FF-9171-49D3-9B76-8B99E895E8DD,02A07DA8-0F62-4DCD-9C1E-A8E7DBFFB980,AA24EFAA-B52C-47EB-8331-0316F31FABB7,66DF0382-C036-424C-9E2A-760BEE32AAFC,53B7C261-2562-4C7D-830B-908680999D18,F955A1DC-BE0A-4517-B009-EA4C3A4E3C5A,D7D6A65E-C6D0-4870-BF4B-591F551DE3D4,B8BD3B3D-3371-423C-BE65-3E2C25BCC848,C1963EE0-CF55-4732-A420-6F0DFB2AF6F1,4A3B5551-4264-4180-A4A0-09C799FCCE80,43E4E1B2-F2EC-4172-BDB8-786CC5FF99D2,BA328106-432C-4104-AC44-CF371EB0BDCB,929060A6-EC20-4DA2-AFAC-1A02DE8C19E9,1D3CD795-0FC0-41D4-8FBA-BF0EF816AE13,7F23D2F3-A355-48A9-8CCE-2AF607E46B23,E74A1A1D-3DFC-4053-82D8-B8CBA56C6A59,3DF95F30-11C1-445C-B86C-1C124C2F06DE,7E0B1CCB-92F1-4923-9505-1BE2014106AE,62E83635-8E64-43B8-8039-95DE50BF7C54,98928B77-1F6C-4432-8CBA-75C34CA31FC6,DDFD493E-5752-4481-9803-61E4046BAFE2,72709E8E-20CA-49E8-979D-4F744E5F7AFA,5806E7C5-4261-45FA-846D-8951EA3663ED,844F169A-CC79-42D4-BE05-93256B815BF4,EA496CBE-4777-4733-80C1-4D252F571CC9,504FF04C-3F53-4047-837E-DD4943B4A93B,E5116BA3-3C69-4B34-A021-60CE6196D798,DA224AC9-5BEB-4F76-96F3-FB6FFAADFEA4,19B4ACF0-0896-4522-9C89-D0303255746A,6ECC70DD-EDAF-4085-BC6B-5322E44FCF7D,5944E76E-5561-4A75-83F2-06D60275BD62,8E82B503-98DC-4B5A-9880-4AFC70C25DA1,FDF5834C-7ACD-4F09-A944-65450244C4F8,AD6A606C-6006-443F-AAA0-232737F379F4,2F3B1E52-C614-43E6-949C-1DE85AFBA3BC,DB5C27CB-47EC-409C-BED2-04D2F28D4B8C,0881DB06-A951-4815-B8B7-D4DC58CE0B9A,D3537416-6A7E-4EFA-8053-2F3542C53EEF,55108F28-9585-4B43-8DE2-8B54444711E8,9C6D0DDD-8B56-4A6F-BD45-0C74A7B072EE";
       //    queueRequest.LegacySiteId = "F8115852-488D-4ED3-A74D-3F0123278A3F";

           // single school www.bear.org
          // string userIdList =  "B3A92C38-E3C1-47E4-A88A-C76BCAEF3B5E";
          // string userIdList =
          //      "8CD78253-1C60-4269-91E0-8D31F3F9F019,C27AE4B6-19BB-4579-8E10-224C7578C234,E0745E38-8B80-42E5-A752-9D2CA9D1CB4C,27ECDAEA-B7F3-4BA8-BAC9-49142CEEB0FD,6793E670-A387-484F-810C-C8B0D2F4B74D,60360B2C-52A2-415B-AE8D-37595E05328F,D7D414A8-1364-4C78-ADF9-32106AAF1481,B63A5ADE-0E97-4EAB-9EB0-5C0A5A3ED869,FE7D7411-324E-4D5C-AA42-2F8595579D1D,BBDC74A3-942A-4424-87A4-B126F078F48F,B35A5482-9402-405F-B270-6AC99318B721,E152083B-5E76-45C5-ACFC-C742E8C56117,F16396F3-5CDD-494C-B067-27B56DEC1400,96A30A28-314C-4C85-B43C-A6AE1F0C979D,692130DF-3700-4AB9-BDAF-69BF94421B84,66C9B92A-4056-4B30-9E5E-DCEF9B15398F,0190893B-7AEF-481B-A173-15C3A367A0C7,3CD553B7-93A6-4D6B-96CF-27BB1898542B,48337B13-3F91-4AF5-B130-EE07B68117B2,FBB56431-0E32-4F18-8FD9-C76974891EDC,DA8D5176-35DB-4923-ABD7-BE0EFCF2088D,E53C6F98-6E67-4B7A-A8BC-FBAB6C6FAD82,6765F9D8-ACBE-4175-AB5A-45152174A153,25291253-EA5E-49A1-AC00-4D7F4E4F906B,0BE3EC12-23F6-4BF4-88AF-817D2A20FF18,ED7F6C7F-2193-4DA4-AD8D-A0C6E2877EF4,EBB15427-EA94-4289-B7F3-0F34D31A66F7,F546BF2E-2761-4A77-98C4-2BFB511E2A49,585B8E54-B37B-451E-B850-51AC55AF4ED4,B1C5D75D-D637-4932-809A-CEC920A75226,722FB900-ACD1-42D8-90EF-167B5C0E7B4B,F437BA0F-40E5-4F05-88BA-EAFAF085377F,C97C1007-1383-418D-9D7B-0AB1C90262E5,90D55BA2-4FE8-4E5D-93FA-3C977504ED61,0B29B09D-6083-496E-8A70-4C2C58E83180,3F48DAC2-A236-4FC2-820A-4FC0C09AFF4D,BD6DEB75-6903-49B8-970D-280C2F2CC942,308865AD-2D81-4877-BB74-0AF569EF5FE2,8F049B24-0ADF-4661-AF8B-67FEE306CC16,2E7DDE7F-8179-438A-BC80-ACD2ACE31FE0,E7CBC4B4-4D8D-48E4-869F-129DA458AB1D,847BE09B-2610-4C2E-8DDF-21DE805049E2,B4E2A657-0FEB-437A-86E2-3F79C1ACB6D2,5CCCD3C4-4F50-4E5A-99B2-5150AB548EEA,A3B8C12D-B68B-4DC0-BDC7-57AAA0DE9BCC,2890ADCF-A4AC-4F2D-AA6A-5A8D0AAC866D,4F2B0DDE-7180-47B8-B994-C6B5B95DE5A5,1B86D87B-C44F-478C-B488-7071A3FB6326,15CA5747-5414-42E7-AAC9-C6489E02B529,F40FD8FB-22F1-443A-8DF5-C707AB0FF846,58380A8E-251B-4B1B-9FB3-9BB03EDBB68D,A338D1C1-F11D-492D-8F1C-DB87E001AFEC,65247D2C-579C-4D3D-A5CB-67F72A0D0F0D,A743E45A-8E2A-41A7-8FE3-6BC2CE823004,2BD6876B-DCFA-473B-B3B0-553CAB249FC8,1821D255-9E85-4114-8783-51BB255F61E3,E5FAA555-2E26-4F8E-A733-177A9A3C36B6,4F2C8755-D9D8-42DF-A31C-69C710374180,65F941FE-2B19-4DD2-9534-F2FAFE36C5B5,6D371B71-83C4-425C-B763-347CFBB764B5,8692DEE6-9BA1-4E10-84DE-2EF2BF2417C6,B8DC4177-E8E6-43B3-8313-5693F19FAF13,23CBC839-1D1C-4FD0-961E-63C4A5F902C4,ABFB6D30-6431-4993-993F-C1DBBACFE7E2,BB4776C8-0CAC-4914-BF36-A5ACE592344C,3C0DE79E-2F24-4AE3-BDA8-01970F2FF5E0,0A46336C-787C-4B50-8BB9-AFF5362CA6BA,F2A1EF9D-D2A9-46D6-8A8C-1A644387B5C8,64DE044F-D503-451B-A40B-C94331EC9633,DD99CE6C-75B7-4A09-938C-A79F9167226E,15A4F23D-8E01-4294-931D-1D0E10746BE7,46195999-2085-4B1D-9A49-7DE25218D352,729A105A-2655-46FB-9D97-6B7BB93A9985,B3A92C38-E3C1-47E4-A88A-C76BCAEF3B5E,59C70183-93A2-481C-A2AD-030F8A4BC30E,10BD8418-03A1-4EE2-95D2-DC892343F2E3,9D0555BF-D3A2-4642-A600-4210AB0965C2,7A94993E-4FF5-4716-BB21-553F07FD5CC6,0EA9126E-21D3-4386-B129-FAFF58FF01FC,01251ABA-D58B-44DD-9E95-05FEF8620428,CD2BA1F3-3873-402A-9841-DA426ACA6F4D,28C97F94-430F-4741-888F-3F7BAC3EFB48,3412C9D5-7174-460B-AC6F-E2A9B5668FAF,75EC9A47-176A-4610-9BF8-CB8DBBB5FF74,3D1A7F5A-1BFB-42F3-A926-59848537B93B,9D0BFFA8-5BEC-4C1E-BA05-67D51BC94BCA,C61968F1-25DB-4B1D-9CCF-BAECDCF28F7B,2764EC44-5093-4F85-B365-113580637D02,0AABFA59-F0A9-43E8-89FC-32D6D0F2D9FB,A99B2959-54E8-4E1D-BDBC-2CEC7CDE70CC,76B84C7A-BBF2-43E3-9C74-D02AB619296E,DF2F6F51-8419-44B4-8F50-32F9A0530F86,07662B58-4A7B-44B7-A002-F85309A83CE4,63F3C6A4-573D-4A01-B5F0-F4976D83F850,6F22B5FE-9C3A-44CF-B6E5-B7FFEAA9377A,56EFB01F-4319-427B-B0FC-0C46B4842773,6C5E7292-21D2-4D86-9C1B-C3E1BFCBB15C,98F6DAF8-A89A-4B16-91F8-1202E4ED603B,33B32561-F63C-42AC-99DF-AAD1625FC3DA,B4DAC2B0-90C7-4CD6-B1E6-9A115889AB0D,0DDE32AE-A2B6-436F-86EC-B1B93E5D9A69,9892AA43-2249-473E-88DD-E74EDD1ED803,7F6BCF62-CEC5-4ACC-89CE-4A66C70B6185,FD7D4BD0-4DAB-4912-880F-897E028E6825,25735617-9154-441E-ADA7-4E64391C8222,DBA381D1-14DE-4C18-B145-EB419BD00F59,F22B6161-E989-4728-9FB4-681840B6AA00,788BE517-A959-4268-805C-ED86C36C0BFC,DB445219-79F3-41A7-AB51-454B2DA4DD7B,86CC10F4-47DB-4A3E-9DE1-428A1A533606,67A49ECD-1814-46E6-929F-09824F0DE018,D501B69B-E5F4-4227-9624-041C35CFD536,92BFE7CB-F55F-49D2-BDFB-D464A5A241BC,40E54C47-AD5D-4D56-977E-B6724A9CD121,1F9A62CB-DB59-480D-A0E8-73BB7AA035BD,8324FD28-5BF5-46A4-B383-A02FBA341D7A,47358CC6-4A5B-4539-ADB5-8AC666BAA98D,6A8E5135-D2D7-4144-ABAC-73382718F14B,1372E319-B0EB-465A-8F88-0A02DB939BAF,51810682-A7E2-42DC-9A98-DBEC1CCA2368,1D39AB60-1280-4333-8735-CB1D358902BF,BB48F368-C656-496C-8123-EAC92D93F03C,7A695B03-30CB-449C-9898-EFC99212B497,D497AE3C-AD3D-46DC-BD73-20D43E0945A2,ECB45992-376B-44FE-851E-589BA184A6D8,F063F650-0F69-4BCB-B69E-079367B22263,87B13AC8-993D-4972-A136-64BE6C225E7F,E739BA60-81A7-496F-9E2C-B2EDACE001B8,D318EFC0-2DE9-463B-9866-E3308841371A,7B3842CA-355D-4A95-B94A-F07C181FAB2C,85AEED8D-9EDD-479F-82FE-E3B9234178F9,E5C0D991-9EEE-4504-8A01-C3D0007806F5,BAE0C90D-7513-4FCD-A898-41FAD4DD341F,EB0A2F9C-267F-4A23-ADA8-E309AAA2B90B,21575840-20DD-4327-9664-BE27010735B9,F1472316-FC1B-4BDD-8D75-03730BCFA4FC,720BADAF-366F-494B-B4E7-8ECD84545536,3856455E-DF46-4600-B19A-BEF5A8D6FDFD,9AB5A2B9-782A-4A68-A24B-032158E4720A,12FFC9A2-8979-4646-88B3-3FB19BEADB0A,2C1398FE-88FF-4F4E-980A-38CCFFF68820,96D3FAC6-A5A5-4016-92E8-54DAE103D80A,A1B744E1-D662-4FBD-8E7B-94568F2E80A8,2A1D5D23-2E6E-4F5B-A0C3-5B12AF485C72,FAB70621-FB11-45AD-8ACF-CBB66326884B,ECC4989C-1BBD-42E5-807E-1A31AEB4277C,7DDDA376-C0C4-4E57-8A03-E0FD80B72669,469A1960-9C88-4DFA-86C9-E7114DA50224,AF364BD5-DA3E-4756-B5A5-F498B2F3F9FD,18F91632-53D0-4D53-9A2F-00712522B975,077283E5-0EC9-42B2-BD6C-D6ABA15C13B3,05E7AF7D-4C32-435D-B8E9-BA6B39C7A1BA,C62F1913-9B10-4518-8E94-DC56FE215AB5,507F1413-9EAB-4C6A-91C0-66F48DA52C0E,8CB68E36-1D82-48B5-8AE5-59CD4C1B5F96,79BCD62F-E0FE-4F28-B9D4-620E77A045A9,B42FB9C8-1E90-403C-841E-F1919D324BDA,2486D4AA-65C9-48E3-87F5-8DE1D0B40860,9BD76987-7FAE-4737-B03C-A3E6E87D09E3,70DFB668-9E3E-4918-9065-F5B639A1EB77,7B0C136B-F7B1-4201-BEBB-9AF409D167D8,11DB1F86-7E8E-441E-8EE9-F4DA961847C2,E8F9BC2C-7B48-4404-AFD8-04354C9C0E66,459ED999-4FF6-44F1-B508-D5821C28FB74,F206E1A0-B36F-47B0-99F8-8612AB58416D,8E5F2290-ABC0-46C0-9E4B-346F787A5112,883BD8FD-D72C-404A-B1DC-0D8C580A2350,EA3B392A-D81C-4F2E-AE16-A66888708133,F88DB473-0AEE-49AC-80E9-1F45CDAABD4C,DD5A9950-EBD0-43E0-9A0F-94D7F44B32E4,D0E5C62C-BB88-467F-B5E2-C101E7447F15,654CCDCC-501F-433F-9AE9-1A8AF9E24E35,6A8FD6C4-5D06-4D89-A612-58EEF9434EC3,EC0DB043-A8BB-4764-8DF4-E2B9E8D6D297,CFB97EE7-0A5A-444A-AADF-F0ABFF0E8A57,BCF3704F-1862-49D2-B80D-AA5D9BD3D2D8,3130422C-89DE-4941-BD46-57425AFE002D,C4EB9B74-A43C-4943-86F2-C7C5C88E1015,D7A841D4-7DB9-48BB-834A-0748F5A7A52B,07F24515-3C54-4C23-9322-447E89A877B5";
         //   queueRequest.LegacySiteId = "18286442-8CB1-4995-9D5D-A9B2D24A8A02";

            //Test it in production:
          string userIdList = "B3A92C38-E3C1-47E4-A88A-C76BCAEF3B5E";
          queueRequest.LegacySiteId = "58564468-CDD1-4EA5-B87A-9ABF4EB055E5";


            queueRequest.LegacyUserIds = userIdList.Split(",".ToCharArray()).ToList();
            queueRequest.MessageId = Guid.NewGuid().ToString();
            return queueRequest;
        }

        [HttpPost]
        public void PostResponse([FromBody] JObject requestBody)
        {
           var response = JsonConvert.DeserializeObject<Response>(requestBody.ToString());
        }
    }
}
